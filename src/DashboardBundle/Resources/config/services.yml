services:

    dashboard.user_provider:
        class: Piwik\Dashboard\User\UserProvider
        arguments: ["@dashboard.storage.user"]

    dashboard.storage.user:
        class: Piwik\Dashboard\User\UserStorage

    dashboard.repository_provider:
        class: Piwik\Dashboard\Repository\RepositoryProvider
        arguments: ["@dashboard.storage.repository"]

    dashboard.storage.repository:
        class: BlackBox\Transformer\JsonEncoder
        arguments: ["@dashboard.storage.repository_wrapped", true]
    dashboard.storage.repository_wrapped:
        class: BlackBox\Adapter\MultipleFileStorage
        arguments: ["%app.data_dir%/repositories", "json"]
